"use strict";function _toConsumableArray(e){if(Array.isArray(e)){for(var n=0,r=Array(e.length);n<e.length;n++)r[n]=e[n];return r}return Array.from(e)}"serviceWorker"in navigator&&navigator.serviceWorker.register("./sw.js").then(function(){console.log("Service Worker Registered")}),document.addEventListener("DOMContentLoaded",function(){var e,n=document.querySelector("body"),r=document.querySelector(".currency__convert-from"),t=document.querySelector(".currency__convert-to"),o=document.querySelector(".convert"),c=document.querySelector("input#original_amount"),u=document.querySelector("input#converted_amount");function i(e){if("undefined"===e)return"Currency parameter cannot be undefined.";var n=document.createElement("option");return n.innerText=e,n}function a(e){if(0===e.length||"undefined"===e)return"Currencies array cannot be empty or undefined.";e.map(function(e){r.appendChild(i(e)),t.appendChild(i(e))})}function l(e){if("undefined"===e)return"URL Parameter cannot be undefined.";fetch(e).then(function(e){return e.json()}).then(function(e){var n=document.querySelector("input#amount").value,r=Object.values(e);(function(e,n){if(2!==arguments.length)return"You need to specify both arguments for the exchange rate to be calculated correctly.";var r=n*e;c.value=n,u.value=r.toFixed(2)}).apply(void 0,_toConsumableArray(r).concat([n]))}).catch(function(e){return console.error("The following error occured while trying to get the conversion rate. "+e)})}function d(){l(function(e,n){return 2!==arguments.length?"You need to specify both arguments for the URL to be built correctly.":"https://free.currencyconverterapi.com/api/v5/convert?q="+e+"_"+n+"&compact=ultra"}(document.querySelector(".currency__convert-from").value,document.querySelector(".currency__convert-to").value))}function f(){o.addEventListener("click",d),n.addEventListener("keydown",function(e){return function(e){if("undefined"===e)return"Most likely the DOM key event listener wasn't started. 'Enter' key will not fire.";13===e.keyCode&&d()}(e)})}f(),e="https://free.currencyconverterapi.com/api/v5/currencies","caches"in window&&caches.match(e).then(function(e){e&&e.json().then(function(e){a(Object.keys(e.results).sort())})}),fetch(e).then(function(e){return e.json()}).then(function(e){a(Object.keys(e.results).sort())}).catch(function(e){return console.error("The following error occured while trying to get the list of currencies. "+e)})});
//# sourceMappingURL=app.min.js.map
